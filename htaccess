RewriteEngine On

# browser requests PHP
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /([^\ ]+)\.php
RewriteRule ^/?(.*)\.php$ /$1 [L,R=301]

# check to see if the request is for a PHP file:
RewriteCond %{REQUEST_FILENAME}\.php -f
RewriteRule ^/?(.*)$ /$1.php [L]


# Redirect HTTP ke HTTPS
RewriteCond %{HTTPS} !=on
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redirect ke versi www
RewriteCond %{HTTP_HOST} ^example\.com [NC]
RewriteRule ^(.*)$ http://www.example.com/$1 [L,R=301]

# Redirect halaman lama ke halaman baru
Redirect 301 /halamanlama.php /halamanbaru.php

# Custom error page
ErrorDocument 404 /404.html
ErrorDocument 500 /500.html

# Melindungi file sensitif
<FilesMatch "(config\.php|function\.php|cek\.php)">
    Order allow,deny
    Deny from all
</FilesMatch>

# Menonaktifkan directory listing
Options -Indexes
